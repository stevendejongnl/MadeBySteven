{"code":"import { __decorate } from \"tslib\";\nimport { html, LitElement } from 'lit';\nimport { customElement } from 'lit/decorators.js';\nimport { style } from './made-a-github-overview.style.js';\nconst github_url = 'https://github.com/stevendejongnl';\nconst github_api = 'https://api.github.com/users/stevendejongnl';\nlet MadeAGithubOverview = class MadeAGithubOverview extends LitElement {\n    constructor() {\n        super(...arguments);\n        this._repositories = [];\n    }\n    async firstUpdated() {\n        const repositories = this.getRepositoriesFromLocalStorage();\n        if (repositories) {\n            this._repositories = repositories;\n            this.requestUpdate();\n        }\n        else {\n            await this.fetchRepositories();\n        }\n    }\n    get repositories() {\n        return this._repositories;\n    }\n    async fetchRepositories() {\n        try {\n            const response = await fetch(`${github_api}/repos`);\n            if (!response.ok) {\n                throw new Error('Failed to fetch repositories');\n            }\n            const repositories = await response.json().then((data) => data.sort((a, b) => {\n                return new Date(b.updated_at).getTime() - new Date(a.updated_at).getTime();\n            }));\n            this._repositories = repositories;\n            this.saveRepositoriesToLocalStorage(repositories);\n            this.requestUpdate();\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n    saveRepositoriesToLocalStorage(repositories) {\n        const storageKey = 'repositories';\n        const storageValue = JSON.stringify({\n            data: repositories,\n            expiration: Date.now() + 24 * 60 * 60 * 1000 // Vervaldatum na 24 uur (in milliseconden)\n        });\n        localStorage.setItem(storageKey, storageValue);\n    }\n    getRepositoriesFromLocalStorage() {\n        const storageKey = 'repositories';\n        const storageValue = localStorage.getItem(storageKey);\n        if (storageValue) {\n            const repositoriesData = JSON.parse(storageValue);\n            if (this.isRepositoriesExpired(repositoriesData)) {\n                localStorage.removeItem(storageKey);\n                return null;\n            }\n            return repositoriesData.data;\n        }\n        return null;\n    }\n    isRepositoriesExpired(repositoriesData) {\n        const expiration = repositoriesData.expiration;\n        return Date.now() > expiration;\n    }\n    render() {\n        return html `\n      <section class=\"made-a-github-overview\">\n        <header>\n          <a href=\"${github_url}\" target=\"_blank\">\n            GitHub Projects\n          </a>\n        </header>\n        ${this.repositories.map((repository) => html `<made-a-github-repository part=\"base\" .repository=\"${repository}\"></made-a-github-repository>`)}\n      </section>\n    `;\n    }\n};\nMadeAGithubOverview.styles = style;\nMadeAGithubOverview = __decorate([\n    customElement('made-a-github-overview')\n], MadeAGithubOverview);\nexport { MadeAGithubOverview };\n//# sourceMappingURL=made-a-github-overview.js.map","references":["/home/runner/work/MadeBySteven/MadeBySteven/master-branch/node_modules/lit/index.d.ts","/home/runner/work/MadeBySteven/MadeBySteven/master-branch/node_modules/lit/decorators.d.ts","/home/runner/work/MadeBySteven/MadeBySteven/master-branch/src/components/made-a-github-overview/made-a-github-overview.style.ts","/home/runner/work/MadeBySteven/MadeBySteven/master-branch/src/components/made-a-github-repository/made-a-github-repository.interface.ts"],"map":"{\"version\":3,\"file\":\"made-a-github-overview.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/made-a-github-overview/made-a-github-overview.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/runner/work/MadeBySteven/MadeBySteven/master-branch/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/made-a-github-overview/made-a-github-overview.d.ts","writeByteOrderMark":false,"text":"import { LitElement } from 'lit';\nimport { Repository } from '../made-a-github-repository/made-a-github-repository.interface.js';\nexport declare class MadeAGithubOverview extends LitElement {\n    static styles: import(\"lit\").CSSResult;\n    firstUpdated(): Promise<void>;\n    private _repositories;\n    get repositories(): Repository[];\n    fetchRepositories(): Promise<void>;\n    private saveRepositoriesToLocalStorage;\n    private getRepositoriesFromLocalStorage;\n    private isRepositoriesExpired;\n    render(): import(\"lit\").TemplateResult<1>;\n}\n"}}
